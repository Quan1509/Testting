<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thang đo kiệt sức ở cha mẹ (PBI)</title>
    <style>
        :root {
            --primary-color: #4a90e2;
            --secondary-color: #f5a623;
            --background-color: #f0f4f8;
            --text-color: #333;
        }

        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; 
            line-height: 1.6; 
            max-width: 800px; 
            margin: 0 auto; 
            padding: 15px; 
            background-color: var(--background-color); 
            color: var(--text-color);
        }

        h1 { color: var(--primary-color); font-size: 1.5rem; text-align: center; }

        .question { 
            background: white; 
            padding: 20px; 
            margin-bottom: 15px; 
            border-radius: 12px; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.05); 
        }

        /* Scale linh hoạt cho các nút chọn trên điện thoại */
        .options { 
            display: flex; 
            justify-content: space-between; 
            margin-top: 15px; 
            gap: 5px;
        }

        .option { 
            display: flex;
            flex-direction: column;
            align-items: center;
            flex: 1; /* Chia đều không gian */
        }

        /* Phóng to vùng bấm để dễ thao tác trên màn hình cảm ứng */
        input[type="radio"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .result-box { 
            display: none; 
            background: white; 
            padding: 20px; 
            border-radius: 12px; 
            margin-top: 20px; 
            border-top: 5px solid var(--secondary-color); 
        }

        button { 
            background: var(--primary-color); 
            color: white; 
            padding: 15px; 
            border: none; 
            border-radius: 8px; 
            cursor: pointer; 
            font-size: 1.1rem; 
            font-weight: bold; 
            width: 100%; 
            transition: opacity 0.2s;
        }

        button:active { opacity: 0.8; }

        .scale-info { 
            font-size: 0.9rem; 
            margin-bottom: 20px; 
            padding: 15px; 
            background: #fff; 
            border-radius: 8px;
            border-left: 5px solid var(--secondary-color);
        }

        /* Media Query cho màn hình cực nhỏ */
        @media (max-width: 480px) {
            h1 { font-size: 1.2rem; }
            .question p { font-size: 0.95rem; }
            .option label { font-size: 0.8rem; }
        }
    </style>
</head>
<body>

    <h1>THANG ĐO KIỆT SỨC Ở CHA MẸ</h1>
    
    <div class="scale-info">
        [cite_start]<strong>Hướng dẫn:</strong> Đánh giá mức độ từ 0 (Chưa bao giờ) đến 6 (Mỗi ngày) cho các biểu hiện dưới đây. [cite: 31, 32]
    </div>

    <div id="questions"></div>

    <button onclick="calculateScore()">XEM KẾT QUẢ</button>

    <div id="result" class="result-box">
        <h2 style="color: var(--secondary-color)">Kết quả của bạn</h2>
        <div id="scoreDetails"></div>
    </div>

    <script>
        const questionsVi = [
            [cite_start]"Tôi cảm thấy hoàn toàn kiệt quệ bởi vai trò làm cha mẹ.", [cite: 40]
            [cite_start]"Tôi có cảm giác như mình thực sự cạn kiệt năng lượng trong vai trò làm cha/mẹ.", [cite: 40]
            [cite_start]"Trách nhiệm làm cha mẹ khiến tôi mệt mỏi đến mức ngủ cũng không thấy đỡ mệt.", [cite: 40]
            [cite_start]"Mỗi sáng thức dậy, chỉ nghĩ đến việc lại thêm một ngày với con, tôi đã cảm thấy kiệt sức.", [cite: 40]
            [cite_start]"Chỉ cần nghĩ đến những gì phải làm cho con cũng đủ khiến tôi thấy kiệt sức.", [cite: 40]
            [cite_start]"Tôi không còn chút năng lượng nào để chăm sóc con.", [cite: 40]
            [cite_start]"Vai trò làm cha/mẹ đã vắt kiệt toàn bộ năng lượng của tôi.", [cite: 40]
            [cite_start]"Đôi khi tôi có cảm giác mình đang chăm sóc con giống như một cỗ máy “chạy ở chế độ tự động”.", [cite: 40]
            [cite_start]"Tôi đang cố sống sót với vai trò làm cha/mẹ của mình.", [cite: 40]
            [cite_start]"Tôi không nghĩ mình còn là người cha/mẹ tốt đối với (các) con như tôi đã từng trước đây.", [cite: 40]
            [cite_start]"Tôi tự nhủ rằng mình không còn là người cha/mẹ như tôi đã từng.", [cite: 40]
            [cite_start]"Tôi cảm thấy xấu hổ về bản thân với tư cách một người làm cha/mẹ.", [cite: 40]
            [cite_start]"Tôi không còn cảm thấy tự hào về bản thân trong vai trò một người cha/mẹ.", [cite: 40]
            [cite_start]"Tôi có cảm giác mình không còn là chính mình khi tiếp xúc với con.", [cite: 40]
            [cite_start]"Tôi có cảm giác như mình đã mất phương hướng trong vai trò làm cha/mẹ.", [cite: 40]
            [cite_start]"Tôi không thể chịu đựng nổi vai trò làm cha/mẹ của mình.", [cite: 40]
            [cite_start]"Tôi không thể tiếp tục gánh vác trách nhiệm làm cha/mẹ thêm nữa.", [cite: 40]
            [cite_start]"Tôi cảm thấy mình không thể chịu đựng vai trò làm cha/mẹ thêm chút nào nữa.", [cite: 40]
            [cite_start]"Tôi cảm thấy mình không còn đủ khả năng xoay xở với những trách nhiệm làm cha/mẹ.", [cite: 40]
            [cite_start]"Tôi không còn cảm thấy vui khi ở bên con.", [cite: 40]
            [cite_start]"Tôi chỉ làm những gì được xem là trách nhiệm của người làm cha/mẹ đối với con, ngoài ra chẳng có gì khác.", [cite: 40]
            [cite_start]"Ngoài những việc thường ngày (đưa đón, cho đi ngủ, cho ăn), tôi không còn đủ sức để làm bất cứ điều gì khác cho con.", [cite: 40]
            [cite_start]"Tôi không còn thể hiện được cho con thấy mình yêu con nhiều thế nào." [cite: 40]
        ];

        function initQuestions() {
            const questionsDiv = document.getElementById('questions');
            questionsVi.forEach((q, index) => {
                questionsDiv.innerHTML += `
                    <div class="question">
                        <p><strong>${index + 1}:</strong> ${q}</p>
                        <div class="options">
                            ${[0, 1, 2, 3, 4, 5, 6].map(v => `
                                <div class="option">
                                    <input type="radio" id="q${index}_${v}" name="q${index}" value="${v}">
                                    <label for="q${index}_${v}">${v}</label>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });
        }

        function getStatus(score, low, mod) {
            [cite_start]if (score < low) return "Mức độ thấp"; [cite: 13, 17, 20, 23]
            [cite_start]if (score <= mod) return "Mức độ trung bình"; [cite: 13, 17, 20, 23]
            [cite_start]return "Mức độ cao"; [cite: 13, 17, 20, 23]
        }

        function calculateScore() {
            let scores = [];
            for (let i = 0; i < questionsVi.length; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                if (!selected) {
                    alert("Vui lòng trả lời đủ 23 câu hỏi!");
                    return;
                }
                scores.push(parseInt(selected.value));
            }

            [cite_start]const exScore = scores.slice(0, 9).reduce((a, b) => a + b, 0); [cite: 12]
            [cite_start]const coScore = scores.slice(9, 15).reduce((a, b) => a + b, 0); [cite: 16]
            [cite_start]const fedScore = scores.slice(15, 20).reduce((a, b) => a + b, 0); [cite: 19]
            [cite_start]const distScore = scores.slice(20, 23).reduce((a, b) => a + b, 0); [cite: 22]
            const totalScore = scores.reduce((a, b) => a + b, 0);

            document.getElementById('scoreDetails').innerHTML = `
                <p><b>1. Kiệt quệ về cảm xúc (Q1-9):</b> ${exScore}đ - ${getStatus(exScore, 18, 29)}</p>
                <p><b>2. Tương phản bản thân (Q10-15):</b> ${coScore}đ - ${getStatus(coScore, 14, 23)}</p>
                <p><b>3. Chán ngán (Q16-20):</b> ${fedScore}đ - ${getStatus(fedScore, 10, 19)}</p>
                <p><b>4. Kiệt sức về cảm xúc (Q21-23):</b> ${distScore}đ - ${getStatus(distScore, 6, 11)}</p>
                <hr>
                <p style="font-size: 1.2rem"><b>TỔNG ĐIỂM: ${totalScore}đ</b></p>
                <p><b>Kết luận:</b> ${totalScore < 48 ? 'Kiệt sức thấp' : totalScore <= 87 ? [cite_start]'Kiệt sức trung bình' : 'Kiệt sức cao'} [cite: 25, 26, 27]</p>
            `;
            document.getElementById('result').style.display = 'block';
            window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
        }

        initQuestions();
    </script>
</body>
</html>
